<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Информационная Сайта</title>
	<style>
		html,
		body {
			margin: 0;
			padding: 0;
			height: 100%;
		}

		/* 上部バー */
		#topBar {
			height: 45px;
			display: flex;
			align-items: center;
			justify-content: flex-end;
			padding: 0 20px;
			background: #f0f0f0;
			box-sizing: border-box;
		}

		#topBar label {
			margin-right: 5px;
			font-weight: bold;
		}

		#lastUpdated {
			margin-left: 20px;
			font-size: 0.9em;
			color: #555;
		}

		/* PDFコンテナ */
		#pdfContainer {
			height: calc(100% - 45px);
			/* 上部バーの高さを引く */
		}

		#pdfFrame {
			width: 100%;
			height: 100%;
			border: none;
		}
	</style>
</head>

<body>

	<!-- 上部バー -->
	<div id="topBar">
		<label for="languageSelector">Language:</label>
		<select id="languageSelector" onchange="changeLanguage(this.value)">
			<option value="ru">Русский</option>
			<option value="en">English</option>
			<option value="ja">日本語</option>
		</select>

		<span id="lastUpdated"></span>
	</div>

	<!-- PDF表示 -->
	<div id="pdfContainer">
		<iframe id="pdfFrame"></iframe>
	</div>

	<script>
		const pdfFrame = document.getElementById('pdfFrame');
		const lastUpdatedSpan = document.getElementById('lastUpdated');

		function changeLanguage(lang) {
			let pdfUrl;
			let titleText;

			switch (lang) {
				case 'ru':
					pdfUrl = 'https://line-0707.github.io/Acts/source/index.pdf';
					titleText = 'Информационная Сайта';
					break;
				case 'en':
					pdfUrl = 'https://line-0707.github.io/Acts/source/index_en.pdf';
					titleText = 'Information Site';
					break;
				case 'ja':
					pdfUrl = 'https://line-0707.github.io/Acts/source/index_ja.pdf';
					titleText = '情報サイト';
					break;
				default:
					pdfUrl = 'https://line-0707.github.io/Acts/source/index.pdf';
					titleText = 'Информационная Сайта';
			}

			// PDF切替
			pdfFrame.src = 'https://line-0707.github.io/Acts/pdfviewer/web/viewer.html?file='
				+ encodeURIComponent(pdfUrl) + '#toolbar=0&navpanes=0';

			// タイトル切替
			document.title = titleText;

			// 最終更新日更新
			updateLastUpdated(lang);
		}

		// 言語に応じて日付をフォーマット
		function updateLastUpdated(lang) {
			const lastModified = new Date(document.lastModified);
			let locale;
			switch (lang) {
				case 'ru': locale = 'ru-RU'; break;
				case 'en': locale = 'en-US'; break;
				case 'ja': locale = 'ja-JP'; break;
				default: locale = 'en-US';
			}
			lastUpdatedSpan.textContent = new Intl.DateTimeFormat(locale, {
				year: 'numeric', month: 'long', day: 'numeric',
				hour: '2-digit', minute: '2-digit'
			}).format(lastModified);
		}

		// ページロード時に初期PDFと日付を表示
		window.addEventListener('load', () => {
			const initialLang = document.getElementById('languageSelector').value;
			changeLanguage(initialLang);
		});
	</script>

</body>

</html>